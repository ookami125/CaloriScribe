doctype html
html(lang="en")
  include partials/head
  body
    .ambient
    include partials/header

    main.page
      section.panel#recipe-builder-panel
        .panel-header
          div
            h2 Daily overview
            p Today's totals with one serving of this recipe.
        .hero-grid
          include partials/calories-panel
          include partials/macro-split-panel
      section.panel
        .panel-header
          div
            h1 Recipe builder
            p Combine ingredients and check macros before you log.
        .panel-body.split
          form#recipe-form.stacked-card
            h3#recipe-form-title Create recipe
            .grid.two
              label
                | Recipe name
                input(type="text" name="name" required)
              label
                | Servings
                input(type="number" name="servings" min="1" value="1")
            label
              | Notes
              textarea(name="notes" rows="3")
            .recipe-items#recipe-items
            .form-actions
              button.ghost#add-recipe-item(type="button") Find ingredient
              button.ghost#recipe-cancel(type="button" hidden) Cancel edit
            button.primary#recipe-submit(type="submit") Create recipe
            p.form-status#recipe-status
          .recipe-side
            .panel-tabs(role="tablist" aria-label="Recipe panels")
              button.tab-button.is-active#recipe-panel-recipes(type="button" data-recipe-panel="recipes") Recipes
              button.tab-button#recipe-panel-ingredients(type="button" data-recipe-panel="ingredients") Ingredients
            #recipe-list-panel
              .list.scroll#recipe-list
            #recipe-ingredients-panel(hidden)
              .stacked-card
                h3 Ingredient library
                label
                  | Search name or barcode
                  .field-row
                    input#recipe-ingredient-search(type="search" name="recipe-ingredient-search" placeholder="e.g. oats or 0123456789")
                    button.ghost(type="button" data-scan-trigger data-scan-target="recipe-ingredient") Scan barcode
              .list.scroll#recipe-ingredient-list

    .modal#scan-modal(aria-hidden="true")
      .modal-card
        .modal-header
          h3 Scan barcode
          button.ghost#close-scan(type="button") Close
        .scan-area
          video#scan-video(autoplay playsinline)
          .scan-target
        p.form-status#scan-status

    include partials/card-templates
    include partials/confirm-modal

    script(src="https://unpkg.com/@zxing/library@0.21.2/umd/index.min.js")
    script(src="/app.js")
