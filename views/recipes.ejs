<!DOCTYPE html>
<html lang="en">
  <%- include("partials/head", { title }) %>
  <body>
    <div class="ambient"></div>
    <%- include("partials/header", { active, appName }) %>

    <main class="page">
      <section class="panel">
        <div class="panel-header">
          <div>
            <h2>Daily overview</h2>
            <p>Calories and macros for the recipe you are building.</p>
          </div>
        </div>
        <div class="hero-grid">
          <div class="stat-card">
            <span class="eyebrow">Calories</span>
            <h2 id="recipe-calories">0</h2>
            <div class="progress">
              <div class="progress-bar" id="recipe-calories-progress"></div>
            </div>
            <span class="meta" id="recipe-calories-meta">Total recipe</span>
          </div>
          <div class="stat-card">
            <span class="eyebrow">Macro split</span>
            <div class="macro-grid">
              <div class="macro-item">
                <span class="macro-label">Protein</span>
                <h3 id="recipe-protein">0g</h3>
                <div class="progress small">
                  <div
                    class="progress-bar"
                    id="recipe-protein-progress"
                  ></div>
                </div>
                <span class="meta" id="recipe-protein-meta">0%</span>
              </div>
              <div class="macro-item">
                <span class="macro-label">Carbs</span>
                <h3 id="recipe-carbs">0g</h3>
                <div class="progress small">
                  <div class="progress-bar" id="recipe-carbs-progress"></div>
                </div>
                <span class="meta" id="recipe-carbs-meta">0%</span>
              </div>
              <div class="macro-item">
                <span class="macro-label">Fat</span>
                <h3 id="recipe-fat">0g</h3>
                <div class="progress small">
                  <div class="progress-bar" id="recipe-fat-progress"></div>
                </div>
                <span class="meta" id="recipe-fat-meta">0%</span>
              </div>
            </div>
            <div class="custom-targets-section">
              <div
                class="macro-grid custom-targets"
                id="recipe-custom-targets-list"
              ></div>
              <p class="meta" id="recipe-custom-targets-empty">
                Add custom targets in Settings.
              </p>
            </div>
          </div>
        </div>
      </section>
      <section class="panel">
        <div class="panel-header">
          <div>
            <h1>Recipe builder</h1>
            <p>Combine ingredients and check macros before you log.</p>
          </div>
        </div>
        <div class="panel-body split">
          <form id="recipe-form" class="stacked-card">
            <h3>Create recipe</h3>
            <div class="grid two">
              <label>
                Recipe name
                <input name="name" type="text" required />
              </label>
              <label>
                Servings
                <input name="servings" type="number" min="1" value="1" />
              </label>
            </div>
            <label>
              Notes
              <textarea name="notes" rows="3"></textarea>
            </label>
            <div class="recipe-items" id="recipe-items"></div>
            <button class="ghost" type="button" id="add-recipe-item">
              Add ingredient
            </button>
            <button class="primary" type="submit">Save recipe</button>
            <p class="form-status" id="recipe-status"></p>
          </form>
          <div>
            <div class="list scroll" id="recipe-list"></div>
          </div>
        </div>
      </section>
    </main>

    <%- include("partials/confirm-modal") %>

    <script src="/app.js"></script>
  </body>
</html>
